<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="\rAbstract A software testing tool is presented, which uses dependency analysis to greatly optimize the process of running tests.\n"><title>Testana: A better way of running tests</title><link rel=canonical href=https://blog2.michael.gr/post/2024-10-testana/><link rel=stylesheet href=/scss/style.min.ab7fea9efdf32d7d9be30b73364607db6ad689725a0667fc6238bfd73af54cb2.css><meta property='og:title' content="Testana: A better way of running tests"><meta property='og:description' content="\rAbstract A software testing tool is presented, which uses dependency analysis to greatly optimize the process of running tests.\n"><meta property='og:url' content='https://blog2.michael.gr/post/2024-10-testana/'><meta property='og:site_name' content="Michael's Blog"><meta property='og:type' content='article'><meta property='article:section' content='post'><meta property='article:tag' content='csharp'><meta property='article:tag' content='java'><meta property='article:tag' content='testing'><meta property='article:tag' content='software-engineering'><meta property='article:tag' content='papers'><meta property='article:tag' content='github-projects'><meta property='article:published_time' content='2024-10-26T10:58:59+00:00'><meta property='article:modified_time' content='2025-10-23T20:16:22+02:00'><meta name=twitter:title content="Testana: A better way of running tests"><meta name=twitter:description content="\rAbstract A software testing tool is presented, which uses dependency analysis to greatly optimize the process of running tests.\n"><link rel="shortcut icon" href=/favicon.svg><script async src="https://www.googletagmanager.com/gtag/js?id=TODO"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","TODO")}</script></head><body class="article-page
article-page"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><ol class=menu id=main-menu><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol><a href=/><img src=/logo.svg width=210 loading=lazy alt=Logo></a><figure class=site-avatar><a href=/><img src="https://gravatar.com/avatar/8d1c5b5578843f958430afe30e0cbb2fb5092b1712d1933ea37d7bf5cb4305ed?size=400" width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure></header><ul class=menu-social><li><a href=/contact-via-e-mail/ title=e-Mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=/contact-via-whatsapp/ title=WhatsApp rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 21l1.65-3.8a9 9 0 113.4 2.9L3 21"/><path d="M9 10a.5.5.0 001 0V9A.5.5.0 009 9v1a5 5 0 005 5h1a.5.5.0 000-1h-1a.5.5.0 000 1"/></svg></a></li><li><a href=https://github.com/mikenakis target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/mikenakis target=_blank title=LinkedIn rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 10-4 0"/><path d="M3 7a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4H7a4 4 0 01-4-4z"/></svg></a></li><li><a href=https://stackoverflow.com/users/773113/mike-nakis target=_blank title="Stack Overflow" rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 17v1a2 2 0 002 2h12a2 2 0 002-2v-1"/><path d="M8 16h8"/><path d="M8.322 12.582l7.956.836"/><path d="M8.787 9.168l7.826 1.664"/><path d="M10.096 5.764l7.608 2.472"/></svg></a></li><li><a href=https://twitter.com/mikenakis target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ul><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#abstract>Abstract</a></li><li><a href=#what-is-testana>What is Testana?</a></li><li><a href=#what-does-testana-achieve-that-existing-tools-do-not>What does Testana achieve that existing tools do not?</a></li><li><a href=#how-does-testana-work>How does Testana work?</a></li><li><a href=#why-should-i-care-about-running-only-the-tests-that-need-to-run>Why should I care about running only the tests that need to run?</a></li><li><a href=#why-should-i-care-about-considering-all-test-modules-in-my-entire-code-base-as-candidates-for-running>Why should I care about considering all test modules in my entire code base as candidates for running?</a></li><li><a href=#why-should-i-care-about-running-test-modules-in-order-of-dependency>Why should I care about running test modules in order of dependency?</a></li><li><a href=#why-should-i-care-about-running-test-methods-in-natural-order>Why should I care about running test methods in natural order?</a></li><li><a href=#why-should-i-care-for-running-test-methods-in-ascending-order-of-inheritance>Why should I care for running test methods in ascending order of inheritance?</a></li><li><a href=#what-additional-error-checking-does-testana-perform>What additional error checking does Testana perform?</a></li><li><a href=#can-testana-be-fooled-by-inversion-of-control>Can Testana be fooled by Inversion of Control?</a></li><li><a href=#can-testana-be-fooled-by-the-use-of-mocks>Can Testana be fooled by the use of mocks?</a></li><li><a href=#can-testana-be-fooled-by-the-use-of-fakes>Can Testana be fooled by the use of fakes?</a></li><li><a href=#what-about-undiscoverable-dependencies-due-to-weak-typing-the-use-of-rest-etc>What about undiscoverable dependencies due to weak typing, the use of REST, etc?</a></li><li><a href=#how-compatible-is-testana-with-what-i-already-have>How compatible is Testana with what I already have?</a></li><li><a href=#how-is-it-like-using-testana>How is it like using Testana?</a></li><li><a href=#where-can-i-find-testana>Where can I find Testana?</a></li><li><a href=#notes>Notes</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/post/2024-10-testana/>Testana: A better way of running tests</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2024-10-26 Sat 10:58:59 UTC</time></div><div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 20v-2a6 6 0 1112 0v2a1 1 0 01-1 1H7a1 1 0 01-1-1z"/><path d="M6 4v2a6 6 0 1012 0V4a1 1 0 00-1-1H7A1 1 0 006 4z"/></svg>
<time class=article-time--reading>15 minute read</time></div></footer></div></header><section class=article-content><p><img src=/post/2024-10-testana/media/testana-logo.svg loading=lazy></p><h3 id=abstract>Abstract</h3><p>A software testing tool is presented, which uses <em><strong>dependency analysis</strong></em> to greatly optimize the process of running tests.</p><p>(Useful pre-reading: <a href=/post/2022-11-about-these-papers/>About these papers</a>)</p><h3 id=what-is-testana>What is Testana?</h3><p>Testana is a console application that you launch when you want to run your tests. So far, I have created two implementations of Testana:</p><ol><li>A Java implementation, supporting JUnit 4 annotations in Maven-based projects.</li><li>A C# implementation, supporting MSTest attributes in MSBuild solutions.</li></ol><h3 id=what-does-testana-achieve-that-existing-tools-do-not>What does Testana achieve that existing tools do not?</h3><ul><li>Testana <em><strong>runs only the subset of test modules that actually need to run</strong></em>, based on the last successful run time of each test module, and whether it, or any of its dependencies, have changed.</li><li>Testana <em><strong>always considers all test modules in your entire code base as candidates for running</strong></em>, so you never have to manually select a subset of the tests to run in the interest of saving time.</li><li>Testana <em><strong>runs test modules by order of dependency</strong></em>, meaning that tests of modules that have no dependencies run first, tests of modules that depend on those run next, and so on.</li><li>Testana <em><strong>runs test methods in Natural Method Order,</strong></em> which is the order in which the methods appear in the source file. (This is the norm in C#, but not in Java, where extra measures are necessary to accomplish.)</li><li>Testana <em><strong>runs test methods in ascending order of inheritance</strong></em>, meaning that test methods in the base-most test class run first, and test methods in derived test classes run afterwards.</li><li>Testana <em><strong>discovers and reports mistakes</strong></em> in the formulation of test methods, instead of ignoring the mistakes, which is what most other test frameworks do. (Silent failure.)</li><li>Testana <em><strong>does not catch any exceptions when debugging</strong></em>, thus allowing your debugger to stop on the source line that threw the exception. (Testana will catch and report exceptions when not debugging, as the case is when running on a continuous build server.)</li></ul><h3 id=how-does-testana-work>How does Testana work?</h3><p>Testana begins by constructing the dependency graph of your software system. Since this process is expensive, Testana cashes the dependency graph in a file, and recalculates it only when the structure of the system changes. The cache is stored in a text file, which is located at the root of the source tree, and is meant to be excluded from source control.</p><p>Then:</p><ul><li>Testana locates the modules that depend on nothing else within the system, and runs the tests of those modules.</li><li>Once these tests are done, Testana finds modules that depend only on modules that have already been tested, and runs their tests.</li><li>Testana keeps repeating the previous step, until all tests have been run.</li></ul><p>Testana keeps a diary where it records the last successful run time of each test module. This diary is also stored in a text file, which is also located
at the root of the source tree, and is also meant to be excluded from source control.</p><p>Next time Testana runs, it considers the last successful run time of each test module, versus the last modification time of that module and its dependencies. Testana then refrains from running the test module if neither it, nor any of its dependencies, have changed.</p><h3 id=why-should-i-care-about-running-only-the-tests-that-need-to-run>Why should I care about running only the tests that need to run?</h3><p>The usual situation with large code bases is that tests take an unreasonably long time to run, so developers tend to take shortcuts in running them. One approach some developers take is that they simply commit code without running any tests, leaving it up to the continuous build server to run the tests and notify them of any test failures. This has multiple disadvantages:</p><ul><li>It causes repeated interruptions in the workflow, due to the slow turnaround of the continuous build, which is often of the order of an hour, sometimes longer, and even in the fastest cases, always longer than a normal person's attention span. (This is so by definition; if it was not, then there would be no problem with quickly running all tests locally before committing.)</li><li>The failed tests require additional commits to fix, and each commit requires a meaningful commit message, which increases the overall level of bureaucracy in the development process.</li><li>The commit history becomes bloated with commits that were done in vain and should never be checked out because they contain bugs that are fixed in later commits.</li><li>Untested commits that contain bugs are regularly being made to branches in the repository; these bugs stay there while the continuous build does its thing; eventually the tests fail, the developers take notice, and commit fixes. This whole process takes time, during which other unsuspecting developers might pull from those branches, thus receiving the bugs. Kind of like <em>Continuous Infection</em>.</li></ul><p>Testana solves the above problems by figuring out which tests need to run based on what has changed, and only running those tests. This cuts down the time it takes to run tests to a tiny fraction of what it is when blindly running all tests, which means that running the tests now becomes piece of cake and can usually be done real quick before committing, as it should.</p><p>Also, running the tests real quick right after each pull from source control now becomes feasible, so a developer can avoid starting to work on source code on which the tests are failing. (How often have you found yourself in a situation where you pull from source control, change something, run the tests, the tests fail, and you are now wondering whether they fail due to the changes you just made, or due to changes you pulled from the repository?)</p><h3 id=why-should-i-care-about-considering-all-test-modules-in-my-entire-code-base-as-candidates-for-running>Why should I care about considering all test modules in my entire code base as candidates for running?</h3><p>Another approach taken by some developers, in the interest of saving time, is manually choosing which tests to run, based on their knowledge of what may have been affected by the changes they just made.</p><ul><li>One simple reason why this is problematic is that it requires cognitive effort to figure out which tests might need running, and manual work to launch them individually; it is not as easy as pressing a single button that stands for "run whatever tests need to run in response to the changes I just made."</li><li>A far bigger problem is that in manually selecting the tests to run, the developer is making assumptions about the dependencies of the code that they have modified. In complex systems, dependency graphs can be difficult to grasp, and as systems evolve, the dependencies keep changing. This often leads to situations where no single developer in the house has a complete grasp of the dependency graph of the entire system. Unfortunately, unknown or not-fully-understood dependencies are a major source of bugs, and yet by hand-selecting what to test based on our assumptions about the dependencies, it is precisely the not-fully-understood dependencies that are likely to not be tested. This is a recipe for disaster.</li></ul><p>Testana solves the above problems by always considering all test modules as candidates for running. It does not hurt to do that, because the tests that do not actually need to run will not be run by Testana anyway.</p><h3 id=why-should-i-care-about-running-test-modules-in-order-of-dependency>Why should I care about running test modules in order of dependency?</h3><p>Existing test frameworks do not do anything intelligent in the direction of automatically figuring out some order of test execution that has any purpose or merit. The order tends to be arbitrary, and not configurable. In the best case it is alphabetic, but this is still problematic, because our criteria for naming test modules usually have nothing to do with the order in which we would like to see them executing.</p><p>For example, it is very common for a code base to contain a module called "Utilities", which most other modules depend on; Since it is a highly dependent-upon module, it should be tested first, but since its name begins with a "U", it tends to be tested last.</p><p>Testana executes test modules in order of dependency. This means that modules with no dependencies are tested first, modules that depend upon them are tested next, and so on until everything has been tested. Thus, the first test failure is guaranteed to point at the most fundamental problem; there is no need to look further down in case some other test failure indicates a more fundamental problem. Subsequently, Testana stops executing tests after the first failure, so it saves even more time.</p><p>For more information about this way of testing, see <a href=/post/2022-10-incremental-integration-testing/>Incremental Integration Testing</a>.</p><h3 id=why-should-i-care-about-running-test-methods-in-natural-order>Why should I care about running test methods in natural order?</h3><p>Test frameworks in the C# world tend to run test methods in natural order, which is great, but in the Java world, the JUnit framework runs test methods in random order, which is at best useless, and arguably treacherous.</p><p>One reason for wanting the test methods to run in the order in which they appear in the source file is because we usually test fundamental operations of our software before we test operations that depend upon them. (Note: it is the operations of the components under test that depend upon each other, not the tests themselves that depend upon each other!) So, if a fundamental operation fails, we want that to be the very first error that gets reported.</p><p>Tests of operations that rely upon an operation whose test has failed might as well be skipped, because they can all be expected to fail. Reporting those failures before the failure of the more fundamental operation is an act of sabotage against the developer, because it is sending us looking for problems in places where there are no problems to be found, and it is making it more difficult for us to locate the real problem, which typically lies in the test that failed first <em><strong>in the source file</strong></em>.</p><p>To give an example, suppose I am developing some kind of data store with insert and find functionality, and I am writing tests to make sure this functionality works. The find-item-in-store test necessarily involves insertion before finding, so I am likely to precede it with an insert-item-to-store test. In such a scenario, it is counter-productive to be told that my find-item-in-store test failed, sending me to troubleshoot the find function, and only later to be told that my insert-item-to-store test failed, which obviously means that it was in fact the insert function that needed troubleshooting; if insert-item-to-store fails, it is game over; no other operation on this store can possibly succeed, so there is no point in running any other tests on it, just as there is no point in beating a dead horse.</p><p>Finally, another very simple, very straightforward, and very important reason for wanting the test methods to be executed in natural order is because seeing the test methods listed in any other order is <em><strong>brainfuck</strong></em>.</p><p>A related rant can be found here: <a href=/post/2018-04-random-order-of-tests/>On JUnit's random order of test method execution</a>.</p><h3 id=why-should-i-care-for-running-test-methods-in-ascending-order-of-inheritance>Why should I care for running test methods in ascending order of inheritance?</h3><p>This feature of Testana might be irrelevant to you if you never use inheritance in test classes, but I do, and I consider it very important. I also consider the typical behavior of existing test frameworks on this matter very annoying, because they tend to do the exact opposite of what is useful.</p><p>Inheritance in test classes can help to achieve great code coverage while reducing the total amount of test code. Suppose you have a collection hierarchy to test: you have an ArrayList class and a HashSet class, and you also have their corresponding test classes: ArrayListTest and HashSetTest. Now, both ArrayList and HashSet inherit from Collection, which means that lots of tests are going to be identical between ArrayListTest and HashSetTest. One way to eliminate duplication is to have a CollectionTest abstract base class, which tests only Collection methods, and then have both ArrayListTest and HashSetTest inherit from CollectionTest and provide additional tests for functionality that is specific to ArrayList and HashSet respectively. Under this scenario, when ArrayListTest or HashSetTest runs, we want the methods of CollectionTest to be executed first, because they are testing the fundamental (more general) functionality.</p><p>To make the example more specific, CollectionTest is likely to add an item to the collection and then check whether the collection contains the item. If this test fails, there is absolutely no point in proceeding with tests of ArrayListTest which will, for example, add multiple items to the collection and check to make sure that IndexOf() returns the right results.</p><p>Again, existing test frameworks tend to handle this in a way which is exactly the opposite of what we would want: they execute the descendant (more specialized) methods first, and the ancestor (more general) methods last.</p><p>Testana corrects this by executing ancestor methods first, descendant methods last.</p><h3 id=what-additional-error-checking-does-testana-perform>What additional error checking does Testana perform?</h3><p>While running tests, Testana will warn the programmer if it discovers any method that has been declared as a test method but fails to meet the requirements for a test method.</p><p>Usually, test frameworks require that a test method must be a public instance method, must accept no parameters, and must return nothing; however, when these frameworks encounter a method that is declared as a test and yet fails to meet those requirements, (for example, a test method declared static,) they fail to report the mistake.</p><p>Testana does not fail to report such mistakes.</p><h3 id=can-testana-be-fooled-by-inversion-of-control>Can Testana be fooled by Inversion of Control?</h3><p>No. In a scenario where class A receives and invokes interface I without having a dependency on class B which implements I, the test of A still has to instantiate both A and B in order to supply A with the I interface of B, so the test depends on both A and B, which means that Testana will run the test if there is a change in either A or B.</p><h3 id=can-testana-be-fooled-by-the-use-of-mocks>Can Testana be fooled by the use of mocks?</h3><p>Yes, Testana can be fooled by mocks, because that is what mocks do: they make a mockery out of the software testing process. In a scenario where class A receives and invokes interface I without having a dependency on class B which implements I, and the test of A also refrains from depending on B by just mocking I, Testana will of course not run the test of A when there is a change in B. This, however, should not be a problem, because you should not be using mocks anyway; for more information, see <a href=/post/2023-01-14-mocking/>If you are using mock objects you are doing it wrong</a>.</p><h3 id=can-testana-be-fooled-by-the-use-of-fakes>Can Testana be fooled by the use of fakes?</h3><p>No, as long as you do your testing properly. A test that utilizes a fake will be run by Testana only when there is a change in the fake, not when there is a change in the real thing; however, you should have a separate test which ensures that the behavior of the fake is identical to the behavior of the real thing in all aspects that matter. This test will be run by Testana when you modify either the fake, or the real thing, or both. Thus:</p><ul><li>If you make a breaking change to the real thing, then your tests will show you that you need to make the corresponding change to the fake; the change in the fake will in turn cause Testana to run the tests that utilize the fake.</li><li>If you make a non-breaking change to the real thing, then the fake will remain unchanged, and this is what gives you the luxury of not having to re-run tests utilizing the fake when you make a change that only affects the real thing.</li></ul><p>For more information, see <a href=/post/2022-10-testing-with-fakes/>Testing with Fakes instead of Mocks</a>.</p><h3 id=what-about-undiscoverable-dependencies-due-to-weak-typing-the-use-of-rest-etc>What about undiscoverable dependencies due to weak typing, the use of REST, etc?</h3><p>The following "hip" and "trendy" practices of the modern day are not supported by Testana, and there is no plan to ever support them:</p><ul><li>Squandering dependencies via <em><strong>weak typing</strong></em>.</li><li>Obscuring dependencies via <em><strong>duck-typing</strong></em>.</li><li>Denaturing dependencies via <em><strong>stringly-typing.</strong></em></li><li>Disavowing dependencies via <em><strong>configuration files</strong></em>.</li><li>Abnegating dependencies via <em><strong>non-programmatic interfaces</strong></em> such as REST.</li><li>Fragmenting dependencies via <em><strong>cross-language invocations</strong></em> (following the <em><strong>polyglot craze</strong></em>.)</li></ul><p>Seriously, stop all this fuckery and use a single, <em><strong>real</strong></em> programming language, (that is, a programming language with <em><strong>strong typing</strong></em>,) encode your dependencies via the type system, and everything will be fine. For more information, see <a href=/post/2017-05-on-scripting-languages/>On Scripting Languages</a>.</p><h3 id=how-compatible-is-testana-with-what-i-already-have>How compatible is Testana with what I already have?</h3><ul><li>The Java implementation of Testana:<ul><li>Works with maven projects (pom.xml files.)</li><li>Supports JUnit 4.<ul><li>Supports only the basic, minimum viable subset of JUnit 4 functionality, namely the @Test, @Before, @After, and @Ignore annotations, without any parameters.</li></ul></li></ul></li><li>The C# implementation of Testana:<ul><li>Works with MSBuild projects (.sln and .csproj files)</li><li>Supports MSTest.<ul><li>Supports only the basic, minimum viable subset of MSTest functionality, namely the [TestClass], [TestMethod], [ClassInitialize], [ClassCleanup], and [Ignore] attributes, without any parameters.</li></ul></li></ul></li></ul><p>Support for more languages, more project formats, more test frameworks, and more functionality may be added in the future.</p><h3 id=how-is-it-like-using-testana>How is it like using Testana?</h3><p>You run Testana every time you want to run your tests. You launch it at the root of your source tree, without any command-line arguments, and its default behavior is to figure out everything by itself and do the right thing.</p><p>Note that the first time you run Testana, there may be a noticeable delay while information is being collected; the information is cached, so this delay will not be there next time you run Testana.</p><p>The first time you run Testana, it will run all tests.</p><p>If you immediately re-run Testana, it will not run any tests, because nothing will have changed.</p><p>If you touch one of your source files, build your project, and re-run Testana, it will only run tests that either directly or indirectly depend on the
changed file. If you run Testana with --help it will give you a rundown of the command-line arguments it supports.</p><h3 id=where-can-i-find-testana>Where can I find Testana?</h3><p>The Java implementation of Testana is here:
<a class=external href=https://github.com/mikenakis/Public/tree/master/testana target=_blank>https://github.com/mikenakis/Public/tree/master/testana</a></p><p>The C# implementation of Testana is coming soon. (As soon as I turn it into an independent solution, because currently it is a project within a larger solution.)</p><h3 id=notes>Notes</h3><p>In episode 167 of the Software Engineering Podcast (<a class=external href=https://se-radio.net/2010/09/episode-167-the-history-of-junit-and-the-future-of-testing-with-kent-beck/ target=_blank>SE Radio 167: The History of JUnit and the Future of Testing with Kent Beck</a>) at about 40':00'' Kent Beck says that recently failed tests have the highest probability of failing again in the near future, so he suggests using this statistical fact at as a heuristic for picking which tests to run first. Testana optimizes the testing process deterministically, so there is no need to resort to heuristics.</p><hr><p>Cover image: The Testana logo, <em>profile of a crash test dummy</em> by michael.gr. Based on <a class=external href=https://thenounproject.com/term/crash-test-dummy/401583/ target=_blank>original work by Wes Breazell</a> and <a class=external href=https://thenounproject.com/term/woman/129498/ target=_blank>Alexander Skowalsky</a>. Used under <a class=external href=https://creativecommons.org/licenses/by/3.0/us/ target=_blank>CC BY License.</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/csharp/>C#</a>
<a href=/tags/java/>Java</a>
<a href=/tags/testing/>Testing</a>
<a href=/tags/software-engineering/>Software Engineering</a>
<a href=/tags/papers/>Papers</a>
<a href=/tags/github-projects/>GitHub projects</a></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on 2025-10-23 Thu 20:16:22 CEST</span></section></footer></article><script>var idcomments_post_id,idcomments_post_url,idcomments_acct="131c02e0ef20d1a4606aa4e3490711ba"</script><span id=IDCommentsPostTitle style=display:none></span>
<script type=text/javascript src=https://www.intensedebate.com/js/genericCommentWrapperV2.js></script><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/2022-12-intertwine/><div class=article-details><h2 class=article-title>Intertwine</h2></div></a></article><article><a href=/post/2025-06-immutability-assessment/><div class=article-details><h2 class=article-title>Immutability Assessment</h2></div></a></article><article><a href=/post/2025-06-build-configurations/><div class=article-details><h2 class=article-title>Build configurations</h2></div></a></article><article><a href=/post/2024-03-codecoverage/><div class=article-details><h2 class=article-title>Artificial Code Coverage</h2></div></a></article><article><a href=/post/2024-04-audit-testing/><div class=article-details><h2 class=article-title>Audit Testing</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy; 2001 - 2026 Michael Belivanakis (a.k.a. Mike Nakis)</section><section class=powerby>Made using <b><a href=https://obsidian.md target=_blank>Obsidian</a></b> and <b><a href=https://gohugo.io/ target=_blank>Hugo</a></b><br>Theme based on <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank data-version=%s>hugo-theme-stack</a></b> by <a href=https://jimmycai.com target=_blank>Jimmy Cai</a><br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>